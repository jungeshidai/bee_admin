<!-- 表格插件 -->
<script src="/static/plugins/bootstrap-table/bootstrap-table.min.js" type="text/javascript"></script>
<script src="/static/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js" type="text/javascript"></script>
<script src="/static/plugins/bootstrap-table/cookie/bootstrap-table-cookie.min.js"></script>
<!-- x-editable插件 -->
<script src="/static/plugins/x-editable/js/bootstrap-editable.min.js"></script>
<!-- bootstrap-table启用x-editable插件 -->
<script src="/static/plugins/bootstrap-table/bootstrap-table-editable.js"></script>
<script>
    var $dataGrid = $('#dataGrid');
    var $searchForm = $("#searchForm")    
    //初始化加载

    function EditFun(Pid,Id) {
        var title = '添加传感器数据';
        if (Id > 0) {
            title = "编辑传感器数据"
        }
        var url = '{{ urlfor "ProedController.Edit"}}'+'/'+Pid + '/' + Id;
        window.location.href = url        
    }

    function DeleteFun(Id) {

        var url = '{{ urlfor "ProedController.Delete"}}';
        var url = url + '?ids=' + Id
        console.log("url:",url)
        var httpRequest = new XMLHttpRequest();//第一步：建立所需的对象
        httpRequest.open('GET', url, true);//第二步：打开连接  将请求参数写在url中  ps:"./Ptest.php?name=test&nameone=testone"
        httpRequest.send();//第三步：发送请求  将请求参数写在URL中
        /**
         * 获取数据后的处理程序
         */
        httpRequest.onreadystatechange = function () {
            if (httpRequest.readyState == 4 && httpRequest.status == 200) {
                var json = httpRequest.responseText;//获取到json字符串，还需解析
                location.reload();
            }
        };
    }    

</script>